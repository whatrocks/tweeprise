<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Tweeprise</title>
    <link rel="stylesheet" type="text/css" href="assets/css/main.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>

    <header>

        <h1>Tweeprise</h1>
        <!--And now just for fun-->
        <marquee>It's gonna be cold cold cold cold cold.</marquee>

    </header>
    
    <section>
  
      <button class="refresh-tweets">Show New Tweets</button>
      
      <div class="feed"></div>

    </section>
    
    <footer>

      <p> Created by @whatrocks for @hackreactor </p>

    </footer>


    <script>

      $(document).ready(function(){
        var $feed = $('.feed');
        $feed.html('');
        var index = streams.home.length - 1;
        var shownTweets = 0;

        var showTweets = function() {
          
          var count = shownTweets;

          for (var i = index; i > count; i--) {
            var tweet = streams.home[i];
            var $tweet = $('<div></div><br >');
            var date = tweet.created_at.getHours() +":"+tweet.created_at.getMinutes() +":"+tweet.created_at.getSeconds();
            $tweet.text('@' + tweet.user + ': ' + tweet.message + ' [' + date +']');
            $tweet.appendTo($feed);
            shownTweets += 1;
          }

        };

        showTweets();

        $('.refresh-tweets').on('click', function() {
          index = streams.home.length - 1;
          showTweets();
        });

      });
    </script>
  </body>
</html>
